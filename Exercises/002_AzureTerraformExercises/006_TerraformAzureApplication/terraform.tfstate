{
  "version": 4,
  "terraform_version": "1.1.2",
  "serial": 27,
  "lineage": "d17c0667-a5e2-2173-8d89-cc0d79263393",
  "outputs": {
    "azurerm_fqdn": {
      "value": "mvb4712.westeurope.cloudapp.azure.com",
      "type": "string"
    },
    "azurerm_public_ip": {
      "value": "20.126.35.138",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "template_file",
      "name": "nginx-vm-cloud-init",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "19d654b95be8d512be677454cc9978a1f3c7ab778e0160693aef332ec91cd251",
            "rendered": "#!/bin/bash\n# ********************************************************************************************************************************************\n# configure_myphpadmin\n# ********************************************************************************************************************************************\n\nexport NGINX_FQDN=\"mvb4712.westeurope.cloudapp.azure.com\"\nexport DB_FQDN=\"az304-mysql-srv.mysql.database.azure.com\"\nexport DB_USER=\"sqladmin\"\nexport DB_PWD=\"JubjubBird1806!\"\n\necho \"NGINX_FQDN='$NGINX_FQDN'\"\necho \"DB_FQDN='$DB_FQDN'\"\necho \"DB_USER='$DB_USER'\"\necho \"DB_PWD='$DB_PWD'\"\n\n# ************************************************************************\nconfigure_myphpadmin() {\n\nsudo tee /etc/dbconfig-common/phpmyadmin.conf \u003c\u003cEOT\n  # automatically generated by the maintainer scripts of phpmyadmin\n  # any changes you make will be preserved, though your comments\n  # will be lost!  to change your settings you should edit this\n  # file and then run \"dpkg-reconfigure phpmyadmin\"\n  \n  # dbc_install: configure database with dbconfig-common?\n  #              set to anything but \"false\" to opt out of assistance\n  dbc_install='false'\n  \n  # dbc_upgrade: upgrade database with dbconfig-common?\n  #              set to anything but \"false\" to opt out of assistance\n  dbc_upgrade='false'\n  \n  # dbc_remove: deconfigure database with dbconfig-common?\n  #             set to anything but \"false\" to opt out of assistance\n  dbc_remove='false'\nEOT\n  \nsudo tee /etc/phpmyadmin/config-db.php \u003c\u003cEOT\n\u003c?php\n  # !!! dbname is mandatory or login won't work!!!\n  #\n  \\$dbuser='$DB_USER';\n  \\$dbpass='$DB_PWD';\n  \\$basepath='';\n  \\$dbname='phpmyadmin';\n  \\$dbserver='$DB_FQDN';\n  \\$dbport='3306';\n  \\$dbtype='mysql';\n?\u003e\nEOT\n}\n\n# ********************************************************************************************************************************************\n# create_nginx_conf\n# ********************************************************************************************************************************************\n#\ncreate_nginx_conf () {\n# with php\nsudo tee -a /etc/nginx/fastcgi_params \u003c\u003cEOT\n  fastcgi_param  SCRIPT_FILENAME    \\$document_root\\$fastcgi_script_name; \nEOT\n\nsudo tee /etc/nginx/fastcgi.conf \u003c\u003cEOT \n  # 404\n  try_files \\$fastcgi_script_name =404;\n\n  # default fastcgi_params\n  include fastcgi_params;\n\n  # fastcgi settings\n# fastcgi_pass\t\t\tunix:/run/php/php7.2-fpm.sock;\n  fastcgi_index\t\t\tindex.php;\n  fastcgi_buffers\t\t\t8 16k;\n  fastcgi_buffer_size\t\t32k;\n  fastcgi_hide_header             X-Powered-By;\n  fastcgi_hide_header             X-CF-Powered-By;\nEOT\n\nsudo tee /etc/nginx/nginx.conf \u003c\u003cEOT \n  user www-data;\n  worker_processes auto;\n  pid /run/nginx.pid;\n  include /etc/nginx/modules-enabled/*.conf;\n\n  events  {\n    worker_connections 768;\n    # multi_accept on;\n  }\n  \n  http {\n    ##\n    # Basic Settings\n    ##\n  \n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout 65;\n    types_hash_max_size 2048;\n    # server_tokens off;\n    # server_names_hash_bucket_size 64;\n    # server_name_in_redirect off;\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n    ##\n    # SSL Settings\n    ##\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE\n    ssl_prefer_server_ciphers on;\n  \n    ##\n    # Logging Settings\n    ##\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n    ##\n    # Gzip Settings\n    ##\n    gzip on;\n    # gzip_vary on;\n    # gzip_proxied any;\n    # gzip_comp_level 6;\n    # gzip_buffers 16 8k;\n    # gzip_http_version 1.1;\n    # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n    ##\n    # Virtual Host Configs\n    ##\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n  }\nEOT\n\nsudo rm -f /etc/nginx/sites-available/default /etc/nginx/sites-enabled/default /etc/nginx/sites-enabled/$NGINX_FQDN\nsudo mkdir /var/www/$NGINX_FQDN\nsudo tee /etc/nginx/sites-available/$NGINX_FQDN \u003c\u003cEOT \n  # Virtual Host configuration for \n  #\n  # You can move that to a different file under sites-available/ and symlink that\n  # to sites-enabled/ to enable it.\n  #\n  server {\n\n    server_name $NGINX_FQDN;\n\n    root /var/www/$NGINX_FQDN;\n    index index.php;\n\n    location / {\n#         try_files $uri $uri/ =404;\n    }\n  \n    location ~ \\.php$ {\n      try_files \\$uri =404;\n      fastcgi_pass unix:/run/php/php7.2-fpm.sock;\n      fastcgi_index index.php;\n      fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;\n      include fastcgi_params;\n      }   \n  }\nEOT\nsudo ln -s /etc/nginx/sites-available/$NGINX_FQDN /etc/nginx/sites-enabled/$NGINX_FQDN\n}\n\n# ********************************************************************************************************************************************\n# main\n# ********************************************************************************************************************************************\n#\n# ============ set local time  =============================\n# \nsudo rm -f /etc/localtime \nsudo ln -s /usr/share/zoneinfo/Europe/Berlin /etc/localtime\n#\n# ============ nginx =============================\n#\nsudo apt-get update\nsudo apt install nginx -y\n\n# ============ php w.o. apache =============================\n# the sequence of packets does the trick somehow\n#\nsudo apt install php7.2-fpm php-cgi -y\nsudo apt install php php-cli -y\nsudo apt install php-json php-mysql php-zip php-gd  php-mbstring php-curl php-xml php-pear php-bcmath -y\ncreate_nginx_conf\nsudo systemctl restart nginx\n#\n# ============ certbot =============================\n#\nsudo snap install core \u0026\u0026 sudo snap refresh core\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# sudo /bin/sh -v -c \"/usr/bin/certbot --test-cert --agree-tos --email \u003cyour_email\u003e@somewhere -n --nginx --domains $NGINX_FQDN\"\nsudo /bin/sh -v -c \"/usr/bin/certbot --agree-tos --email mvboehlen@googlemail.com -n --nginx --domains $NGINX_FQDN\"\nsudo systemctl restart nginx\n#\n# ============ phpMyAdmin =============================\n#\nsudo sh -c \"DEBIAN_FRONTEND=noninteractive apt-get -y install phpmyadmin\"\nln -s /usr/share/phpmyadmin /var/www/$NGINX_FQDN/phpmyadmin\nconfigure_myphpadmin\n#\n# ugly patch to avoid error message for empty array with count()\n# echo sudo sed -i \\\"s/|\\s*\\((count(\\$analyzed_sql_results\\['select_expr'\\]\\)/| (\\1)/g\\\" /usr/share/phpmyadmin/libraries/sql.lib.php\nsudo sed -i \"s/|\\s*\\((count(\\$analyzed_sql_results\\['select_expr'\\]\\)/| (\\1)/g\" /usr/share/phpmyadmin/libraries/sql.lib.php\n#\nsudo mysql -h \"$DB_FQDN\" -u \"$DB_USER\" -p \"$DB_PWD\" \u003c /usr/share/phpmyadmin/sql/create_tables.sql \nsudo systemctl restart nginx\n",
            "template": "#!/bin/bash\n# ********************************************************************************************************************************************\n# configure_myphpadmin\n# ********************************************************************************************************************************************\n\nexport NGINX_FQDN=\"${nginx_fqdn}\"\nexport DB_FQDN=\"${db_fqdn}\"\nexport DB_USER=\"${db_user}\"\nexport DB_PWD=\"${db_pwd}\"\n\necho \"NGINX_FQDN='$NGINX_FQDN'\"\necho \"DB_FQDN='$DB_FQDN'\"\necho \"DB_USER='$DB_USER'\"\necho \"DB_PWD='$DB_PWD'\"\n\n# ************************************************************************\nconfigure_myphpadmin() {\n\nsudo tee /etc/dbconfig-common/phpmyadmin.conf \u003c\u003cEOT\n  # automatically generated by the maintainer scripts of phpmyadmin\n  # any changes you make will be preserved, though your comments\n  # will be lost!  to change your settings you should edit this\n  # file and then run \"dpkg-reconfigure phpmyadmin\"\n  \n  # dbc_install: configure database with dbconfig-common?\n  #              set to anything but \"false\" to opt out of assistance\n  dbc_install='false'\n  \n  # dbc_upgrade: upgrade database with dbconfig-common?\n  #              set to anything but \"false\" to opt out of assistance\n  dbc_upgrade='false'\n  \n  # dbc_remove: deconfigure database with dbconfig-common?\n  #             set to anything but \"false\" to opt out of assistance\n  dbc_remove='false'\nEOT\n  \nsudo tee /etc/phpmyadmin/config-db.php \u003c\u003cEOT\n\u003c?php\n  # !!! dbname is mandatory or login won't work!!!\n  #\n  \\$dbuser='$DB_USER';\n  \\$dbpass='$DB_PWD';\n  \\$basepath='';\n  \\$dbname='phpmyadmin';\n  \\$dbserver='$DB_FQDN';\n  \\$dbport='3306';\n  \\$dbtype='mysql';\n?\u003e\nEOT\n}\n\n# ********************************************************************************************************************************************\n# create_nginx_conf\n# ********************************************************************************************************************************************\n#\ncreate_nginx_conf () {\n# with php\nsudo tee -a /etc/nginx/fastcgi_params \u003c\u003cEOT\n  fastcgi_param  SCRIPT_FILENAME    \\$document_root\\$fastcgi_script_name; \nEOT\n\nsudo tee /etc/nginx/fastcgi.conf \u003c\u003cEOT \n  # 404\n  try_files \\$fastcgi_script_name =404;\n\n  # default fastcgi_params\n  include fastcgi_params;\n\n  # fastcgi settings\n# fastcgi_pass\t\t\tunix:/run/php/php7.2-fpm.sock;\n  fastcgi_index\t\t\tindex.php;\n  fastcgi_buffers\t\t\t8 16k;\n  fastcgi_buffer_size\t\t32k;\n  fastcgi_hide_header             X-Powered-By;\n  fastcgi_hide_header             X-CF-Powered-By;\nEOT\n\nsudo tee /etc/nginx/nginx.conf \u003c\u003cEOT \n  user www-data;\n  worker_processes auto;\n  pid /run/nginx.pid;\n  include /etc/nginx/modules-enabled/*.conf;\n\n  events  {\n    worker_connections 768;\n    # multi_accept on;\n  }\n  \n  http {\n    ##\n    # Basic Settings\n    ##\n  \n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout 65;\n    types_hash_max_size 2048;\n    # server_tokens off;\n    # server_names_hash_bucket_size 64;\n    # server_name_in_redirect off;\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n    ##\n    # SSL Settings\n    ##\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE\n    ssl_prefer_server_ciphers on;\n  \n    ##\n    # Logging Settings\n    ##\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n    ##\n    # Gzip Settings\n    ##\n    gzip on;\n    # gzip_vary on;\n    # gzip_proxied any;\n    # gzip_comp_level 6;\n    # gzip_buffers 16 8k;\n    # gzip_http_version 1.1;\n    # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n    ##\n    # Virtual Host Configs\n    ##\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n  }\nEOT\n\nsudo rm -f /etc/nginx/sites-available/default /etc/nginx/sites-enabled/default /etc/nginx/sites-enabled/$NGINX_FQDN\nsudo mkdir /var/www/$NGINX_FQDN\nsudo tee /etc/nginx/sites-available/$NGINX_FQDN \u003c\u003cEOT \n  # Virtual Host configuration for \n  #\n  # You can move that to a different file under sites-available/ and symlink that\n  # to sites-enabled/ to enable it.\n  #\n  server {\n\n    server_name $NGINX_FQDN;\n\n    root /var/www/$NGINX_FQDN;\n    index index.php;\n\n    location / {\n#         try_files $uri $uri/ =404;\n    }\n  \n    location ~ \\.php$ {\n      try_files \\$uri =404;\n      fastcgi_pass unix:/run/php/php7.2-fpm.sock;\n      fastcgi_index index.php;\n      fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;\n      include fastcgi_params;\n      }   \n  }\nEOT\nsudo ln -s /etc/nginx/sites-available/$NGINX_FQDN /etc/nginx/sites-enabled/$NGINX_FQDN\n}\n\n# ********************************************************************************************************************************************\n# main\n# ********************************************************************************************************************************************\n#\n# ============ set local time  =============================\n# \nsudo rm -f /etc/localtime \nsudo ln -s /usr/share/zoneinfo/Europe/Berlin /etc/localtime\n#\n# ============ nginx =============================\n#\nsudo apt-get update\nsudo apt install nginx -y\n\n# ============ php w.o. apache =============================\n# the sequence of packets does the trick somehow\n#\nsudo apt install php7.2-fpm php-cgi -y\nsudo apt install php php-cli -y\nsudo apt install php-json php-mysql php-zip php-gd  php-mbstring php-curl php-xml php-pear php-bcmath -y\ncreate_nginx_conf\nsudo systemctl restart nginx\n#\n# ============ certbot =============================\n#\nsudo snap install core \u0026\u0026 sudo snap refresh core\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# sudo /bin/sh -v -c \"/usr/bin/certbot --test-cert --agree-tos --email \u003cyour_email\u003e@somewhere -n --nginx --domains $NGINX_FQDN\"\nsudo /bin/sh -v -c \"/usr/bin/certbot --agree-tos --email mvboehlen@googlemail.com -n --nginx --domains $NGINX_FQDN\"\nsudo systemctl restart nginx\n#\n# ============ phpMyAdmin =============================\n#\nsudo sh -c \"DEBIAN_FRONTEND=noninteractive apt-get -y install phpmyadmin\"\nln -s /usr/share/phpmyadmin /var/www/$NGINX_FQDN/phpmyadmin\nconfigure_myphpadmin\n#\n# ugly patch to avoid error message for empty array with count()\n# echo sudo sed -i \\\"s/|\\s*\\((count(\\$analyzed_sql_results\\['select_expr'\\]\\)/| (\\1)/g\\\" /usr/share/phpmyadmin/libraries/sql.lib.php\nsudo sed -i \"s/|\\s*\\((count(\\$analyzed_sql_results\\['select_expr'\\]\\)/| (\\1)/g\" /usr/share/phpmyadmin/libraries/sql.lib.php\n#\nsudo mysql -h \"$DB_FQDN\" -u \"$DB_USER\" -p \"$DB_PWD\" \u003c /usr/share/phpmyadmin/sql/create_tables.sql \nsudo systemctl restart nginx\n",
            "vars": {
              "db_fqdn": "az304-mysql-srv.mysql.database.azure.com",
              "db_pwd": "JubjubBird1806!",
              "db_user": "sqladmin",
              "nginx_fqdn": "mvb4712.westeurope.cloudapp.azure.com"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine",
      "name": "nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": null,
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCjeynFzp68rCjqphsJM4J1a/7talPPEAWKvEM0rdudjzeAor802+AH6a+5uc7ac0fwYOj6bzI8Ys83jlt3CMq7a8yi617yRKo0Or+ki3WFkC417mEchVSe+oHrlxhN8iVZxkzSPg8SFXMIg43r7ZSp9Ls9ny+nhN4EiHavWXQRpdK+ztRq85UWhO+ES/70FCfLHCV8dDm7LbfoVZdKyc1CBy4Qd+UcQT+v2lPSI+sK54y5iWKYrJR/GwmwI5H6aD3qjkYMZbXcULNgukW7nF8UQ9Lo/bbse8JwxQu2Z2NN6mpgjfA2yVrThTP7yyqbbu7BBXIS7GUTH0qoUq5RBQLpmWyj14XrogHSx760v4Q6g4+cNY5SSr3WlGyH6hgL0ZzVNTx7fiq3pw/O//CFM0Si5kf4YhCqttCv6H/GAv1MIofw116Ku0Q5iQdYZBiojpfi5IIuzUNW4lM/+PkH5oo1PwesqG/eamNzLAKLxHPpUzqneIa3LtDJ9wUisxScEFk= Administrator@ah-onprem\n",
                "username": "adminuser"
              }
            ],
            "admin_username": "adminuser",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "computer_name": "nginx-machine",
            "custom_data": "IyEvYmluL2Jhc2gKIyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgojIGNvbmZpZ3VyZV9teXBocGFkbWluCiMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCmV4cG9ydCBOR0lOWF9GUUROPSJtdmI0NzEyLndlc3RldXJvcGUuY2xvdWRhcHAuYXp1cmUuY29tIgpleHBvcnQgREJfRlFETj0iYXozMDQtbXlzcWwtc3J2Lm15c3FsLmRhdGFiYXNlLmF6dXJlLmNvbSIKZXhwb3J0IERCX1VTRVI9InNxbGFkbWluIgpleHBvcnQgREJfUFdEPSJKdWJqdWJCaXJkMTgwNiEiCgplY2hvICJOR0lOWF9GUUROPSckTkdJTlhfRlFETiciCmVjaG8gIkRCX0ZRRE49JyREQl9GUUROJyIKZWNobyAiREJfVVNFUj0nJERCX1VTRVInIgplY2hvICJEQl9QV0Q9JyREQl9QV0QnIgoKIyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKY29uZmlndXJlX215cGhwYWRtaW4oKSB7CgpzdWRvIHRlZSAvZXRjL2RiY29uZmlnLWNvbW1vbi9waHBteWFkbWluLmNvbmYgPDxFT1QKICAjIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IHRoZSBtYWludGFpbmVyIHNjcmlwdHMgb2YgcGhwbXlhZG1pbgogICMgYW55IGNoYW5nZXMgeW91IG1ha2Ugd2lsbCBiZSBwcmVzZXJ2ZWQsIHRob3VnaCB5b3VyIGNvbW1lbnRzCiAgIyB3aWxsIGJlIGxvc3QhICB0byBjaGFuZ2UgeW91ciBzZXR0aW5ncyB5b3Ugc2hvdWxkIGVkaXQgdGhpcwogICMgZmlsZSBhbmQgdGhlbiBydW4gImRwa2ctcmVjb25maWd1cmUgcGhwbXlhZG1pbiIKICAKICAjIGRiY19pbnN0YWxsOiBjb25maWd1cmUgZGF0YWJhc2Ugd2l0aCBkYmNvbmZpZy1jb21tb24/CiAgIyAgICAgICAgICAgICAgc2V0IHRvIGFueXRoaW5nIGJ1dCAiZmFsc2UiIHRvIG9wdCBvdXQgb2YgYXNzaXN0YW5jZQogIGRiY19pbnN0YWxsPSdmYWxzZScKICAKICAjIGRiY191cGdyYWRlOiB1cGdyYWRlIGRhdGFiYXNlIHdpdGggZGJjb25maWctY29tbW9uPwogICMgICAgICAgICAgICAgIHNldCB0byBhbnl0aGluZyBidXQgImZhbHNlIiB0byBvcHQgb3V0IG9mIGFzc2lzdGFuY2UKICBkYmNfdXBncmFkZT0nZmFsc2UnCiAgCiAgIyBkYmNfcmVtb3ZlOiBkZWNvbmZpZ3VyZSBkYXRhYmFzZSB3aXRoIGRiY29uZmlnLWNvbW1vbj8KICAjICAgICAgICAgICAgIHNldCB0byBhbnl0aGluZyBidXQgImZhbHNlIiB0byBvcHQgb3V0IG9mIGFzc2lzdGFuY2UKICBkYmNfcmVtb3ZlPSdmYWxzZScKRU9UCiAgCnN1ZG8gdGVlIC9ldGMvcGhwbXlhZG1pbi9jb25maWctZGIucGhwIDw8RU9UCjw/cGhwCiAgIyAhISEgZGJuYW1lIGlzIG1hbmRhdG9yeSBvciBsb2dpbiB3b24ndCB3b3JrISEhCiAgIwogIFwkZGJ1c2VyPSckREJfVVNFUic7CiAgXCRkYnBhc3M9JyREQl9QV0QnOwogIFwkYmFzZXBhdGg9Jyc7CiAgXCRkYm5hbWU9J3BocG15YWRtaW4nOwogIFwkZGJzZXJ2ZXI9JyREQl9GUUROJzsKICBcJGRicG9ydD0nMzMwNic7CiAgXCRkYnR5cGU9J215c3FsJzsKPz4KRU9UCn0KCiMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKIyBjcmVhdGVfbmdpbnhfY29uZgojICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiMKY3JlYXRlX25naW54X2NvbmYgKCkgewojIHdpdGggcGhwCnN1ZG8gdGVlIC1hIC9ldGMvbmdpbngvZmFzdGNnaV9wYXJhbXMgPDxFT1QKICBmYXN0Y2dpX3BhcmFtICBTQ1JJUFRfRklMRU5BTUUgICAgXCRkb2N1bWVudF9yb290XCRmYXN0Y2dpX3NjcmlwdF9uYW1lOyAKRU9UCgpzdWRvIHRlZSAvZXRjL25naW54L2Zhc3RjZ2kuY29uZiA8PEVPVCAKICAjIDQwNAogIHRyeV9maWxlcyBcJGZhc3RjZ2lfc2NyaXB0X25hbWUgPTQwNDsKCiAgIyBkZWZhdWx0IGZhc3RjZ2lfcGFyYW1zCiAgaW5jbHVkZSBmYXN0Y2dpX3BhcmFtczsKCiAgIyBmYXN0Y2dpIHNldHRpbmdzCiMgZmFzdGNnaV9wYXNzCQkJdW5peDovcnVuL3BocC9waHA3LjItZnBtLnNvY2s7CiAgZmFzdGNnaV9pbmRleAkJCWluZGV4LnBocDsKICBmYXN0Y2dpX2J1ZmZlcnMJCQk4IDE2azsKICBmYXN0Y2dpX2J1ZmZlcl9zaXplCQkzMms7CiAgZmFzdGNnaV9oaWRlX2hlYWRlciAgICAgICAgICAgICBYLVBvd2VyZWQtQnk7CiAgZmFzdGNnaV9oaWRlX2hlYWRlciAgICAgICAgICAgICBYLUNGLVBvd2VyZWQtQnk7CkVPVAoKc3VkbyB0ZWUgL2V0Yy9uZ2lueC9uZ2lueC5jb25mIDw8RU9UIAogIHVzZXIgd3d3LWRhdGE7CiAgd29ya2VyX3Byb2Nlc3NlcyBhdXRvOwogIHBpZCAvcnVuL25naW54LnBpZDsKICBpbmNsdWRlIC9ldGMvbmdpbngvbW9kdWxlcy1lbmFibGVkLyouY29uZjsKCiAgZXZlbnRzICB7CiAgICB3b3JrZXJfY29ubmVjdGlvbnMgNzY4OwogICAgIyBtdWx0aV9hY2NlcHQgb247CiAgfQogIAogIGh0dHAgewogICAgIyMKICAgICMgQmFzaWMgU2V0dGluZ3MKICAgICMjCiAgCiAgICBzZW5kZmlsZSBvbjsKICAgIHRjcF9ub3B1c2ggb247CiAgICB0Y3Bfbm9kZWxheSBvbjsKICAgIGtlZXBhbGl2ZV90aW1lb3V0IDY1OwogICAgdHlwZXNfaGFzaF9tYXhfc2l6ZSAyMDQ4OwogICAgIyBzZXJ2ZXJfdG9rZW5zIG9mZjsKICAgICMgc2VydmVyX25hbWVzX2hhc2hfYnVja2V0X3NpemUgNjQ7CiAgICAjIHNlcnZlcl9uYW1lX2luX3JlZGlyZWN0IG9mZjsKICAgIGluY2x1ZGUgL2V0Yy9uZ2lueC9taW1lLnR5cGVzOwogICAgZGVmYXVsdF90eXBlIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTsKICAgICMjCiAgICAjIFNTTCBTZXR0aW5ncwogICAgIyMKICAgIHNzbF9wcm90b2NvbHMgVExTdjEgVExTdjEuMSBUTFN2MS4yOyAjIERyb3BwaW5nIFNTTHYzLCByZWY6IFBPT0RMRQogICAgc3NsX3ByZWZlcl9zZXJ2ZXJfY2lwaGVycyBvbjsKICAKICAgICMjCiAgICAjIExvZ2dpbmcgU2V0dGluZ3MKICAgICMjCiAgICBhY2Nlc3NfbG9nIC92YXIvbG9nL25naW54L2FjY2Vzcy5sb2c7CiAgICBlcnJvcl9sb2cgL3Zhci9sb2cvbmdpbngvZXJyb3IubG9nOwogICAgIyMKICAgICMgR3ppcCBTZXR0aW5ncwogICAgIyMKICAgIGd6aXAgb247CiAgICAjIGd6aXBfdmFyeSBvbjsKICAgICMgZ3ppcF9wcm94aWVkIGFueTsKICAgICMgZ3ppcF9jb21wX2xldmVsIDY7CiAgICAjIGd6aXBfYnVmZmVycyAxNiA4azsKICAgICMgZ3ppcF9odHRwX3ZlcnNpb24gMS4xOwogICAgIyBnemlwX3R5cGVzIHRleHQvcGxhaW4gdGV4dC9jc3MgYXBwbGljYXRpb24vanNvbiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0IHRleHQveG1sIGFwcGxpY2F0aW9uL3htbCBhcHBsaWNhdGlvbi94bWwrcnNzIHRleHQvamF2YXNjcmlwdDsKICAgICMjCiAgICAjIFZpcnR1YWwgSG9zdCBDb25maWdzCiAgICAjIwogICAgaW5jbHVkZSAvZXRjL25naW54L2NvbmYuZC8qLmNvbmY7CiAgICBpbmNsdWRlIC9ldGMvbmdpbngvc2l0ZXMtZW5hYmxlZC8qOwogIH0KRU9UCgpzdWRvIHJtIC1mIC9ldGMvbmdpbngvc2l0ZXMtYXZhaWxhYmxlL2RlZmF1bHQgL2V0Yy9uZ2lueC9zaXRlcy1lbmFibGVkL2RlZmF1bHQgL2V0Yy9uZ2lueC9zaXRlcy1lbmFibGVkLyROR0lOWF9GUUROCnN1ZG8gbWtkaXIgL3Zhci93d3cvJE5HSU5YX0ZRRE4Kc3VkbyB0ZWUgL2V0Yy9uZ2lueC9zaXRlcy1hdmFpbGFibGUvJE5HSU5YX0ZRRE4gPDxFT1QgCiAgIyBWaXJ0dWFsIEhvc3QgY29uZmlndXJhdGlvbiBmb3IgCiAgIwogICMgWW91IGNhbiBtb3ZlIHRoYXQgdG8gYSBkaWZmZXJlbnQgZmlsZSB1bmRlciBzaXRlcy1hdmFpbGFibGUvIGFuZCBzeW1saW5rIHRoYXQKICAjIHRvIHNpdGVzLWVuYWJsZWQvIHRvIGVuYWJsZSBpdC4KICAjCiAgc2VydmVyIHsKCiAgICBzZXJ2ZXJfbmFtZSAkTkdJTlhfRlFETjsKCiAgICByb290IC92YXIvd3d3LyROR0lOWF9GUUROOwogICAgaW5kZXggaW5kZXgucGhwOwoKICAgIGxvY2F0aW9uIC8gewojICAgICAgICAgdHJ5X2ZpbGVzICR1cmkgJHVyaS8gPTQwNDsKICAgIH0KICAKICAgIGxvY2F0aW9uIH4gXC5waHAkIHsKICAgICAgdHJ5X2ZpbGVzIFwkdXJpID00MDQ7CiAgICAgIGZhc3RjZ2lfcGFzcyB1bml4Oi9ydW4vcGhwL3BocDcuMi1mcG0uc29jazsKICAgICAgZmFzdGNnaV9pbmRleCBpbmRleC5waHA7CiAgICAgIGZhc3RjZ2lfcGFyYW0gU0NSSVBUX0ZJTEVOQU1FIFwkZG9jdW1lbnRfcm9vdFwkZmFzdGNnaV9zY3JpcHRfbmFtZTsKICAgICAgaW5jbHVkZSBmYXN0Y2dpX3BhcmFtczsKICAgICAgfSAgIAogIH0KRU9UCnN1ZG8gbG4gLXMgL2V0Yy9uZ2lueC9zaXRlcy1hdmFpbGFibGUvJE5HSU5YX0ZRRE4gL2V0Yy9uZ2lueC9zaXRlcy1lbmFibGVkLyROR0lOWF9GUUROCn0KCiMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKIyBtYWluCiMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKIwojID09PT09PT09PT09PSBzZXQgbG9jYWwgdGltZSAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAKc3VkbyBybSAtZiAvZXRjL2xvY2FsdGltZSAKc3VkbyBsbiAtcyAvdXNyL3NoYXJlL3pvbmVpbmZvL0V1cm9wZS9CZXJsaW4gL2V0Yy9sb2NhbHRpbWUKIwojID09PT09PT09PT09PSBuZ2lueCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojCnN1ZG8gYXB0LWdldCB1cGRhdGUKc3VkbyBhcHQgaW5zdGFsbCBuZ2lueCAteQoKIyA9PT09PT09PT09PT0gcGhwIHcuby4gYXBhY2hlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgdGhlIHNlcXVlbmNlIG9mIHBhY2tldHMgZG9lcyB0aGUgdHJpY2sgc29tZWhvdwojCnN1ZG8gYXB0IGluc3RhbGwgcGhwNy4yLWZwbSBwaHAtY2dpIC15CnN1ZG8gYXB0IGluc3RhbGwgcGhwIHBocC1jbGkgLXkKc3VkbyBhcHQgaW5zdGFsbCBwaHAtanNvbiBwaHAtbXlzcWwgcGhwLXppcCBwaHAtZ2QgIHBocC1tYnN0cmluZyBwaHAtY3VybCBwaHAteG1sIHBocC1wZWFyIHBocC1iY21hdGggLXkKY3JlYXRlX25naW54X2NvbmYKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBuZ2lueAojCiMgPT09PT09PT09PT09IGNlcnRib3QgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIwpzdWRvIHNuYXAgaW5zdGFsbCBjb3JlICYmIHN1ZG8gc25hcCByZWZyZXNoIGNvcmUKc3VkbyBzbmFwIGluc3RhbGwgLS1jbGFzc2ljIGNlcnRib3QKc3VkbyBsbiAtcyAvc25hcC9iaW4vY2VydGJvdCAvdXNyL2Jpbi9jZXJ0Ym90CiMgc3VkbyAvYmluL3NoIC12IC1jICIvdXNyL2Jpbi9jZXJ0Ym90IC0tdGVzdC1jZXJ0IC0tYWdyZWUtdG9zIC0tZW1haWwgPHlvdXJfZW1haWw+QHNvbWV3aGVyZSAtbiAtLW5naW54IC0tZG9tYWlucyAkTkdJTlhfRlFETiIKc3VkbyAvYmluL3NoIC12IC1jICIvdXNyL2Jpbi9jZXJ0Ym90IC0tYWdyZWUtdG9zIC0tZW1haWwgbXZib2VobGVuQGdvb2dsZW1haWwuY29tIC1uIC0tbmdpbnggLS1kb21haW5zICROR0lOWF9GUUROIgpzdWRvIHN5c3RlbWN0bCByZXN0YXJ0IG5naW54CiMKIyA9PT09PT09PT09PT0gcGhwTXlBZG1pbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojCnN1ZG8gc2ggLWMgIkRFQklBTl9GUk9OVEVORD1ub25pbnRlcmFjdGl2ZSBhcHQtZ2V0IC15IGluc3RhbGwgcGhwbXlhZG1pbiIKbG4gLXMgL3Vzci9zaGFyZS9waHBteWFkbWluIC92YXIvd3d3LyROR0lOWF9GUUROL3BocG15YWRtaW4KY29uZmlndXJlX215cGhwYWRtaW4KIwojIHVnbHkgcGF0Y2ggdG8gYXZvaWQgZXJyb3IgbWVzc2FnZSBmb3IgZW1wdHkgYXJyYXkgd2l0aCBjb3VudCgpCiMgZWNobyBzdWRvIHNlZCAtaSBcInMvfFxzKlwoKGNvdW50KFwkYW5hbHl6ZWRfc3FsX3Jlc3VsdHNcWydzZWxlY3RfZXhwcidcXVwpL3wgKFwxKS9nXCIgL3Vzci9zaGFyZS9waHBteWFkbWluL2xpYnJhcmllcy9zcWwubGliLnBocApzdWRvIHNlZCAtaSAicy98XHMqXCgoY291bnQoXCRhbmFseXplZF9zcWxfcmVzdWx0c1xbJ3NlbGVjdF9leHByJ1xdXCkvfCAoXDEpL2ciIC91c3Ivc2hhcmUvcGhwbXlhZG1pbi9saWJyYXJpZXMvc3FsLmxpYi5waHAKIwpzdWRvIG15c3FsIC1oICIkREJfRlFETiIgLXUgIiREQl9VU0VSIiAtcCAiJERCX1BXRCIgPCAvdXNyL3NoYXJlL3BocG15YWRtaW4vc3FsL2NyZWF0ZV90YWJsZXMuc3FsIApzdWRvIHN5c3RlbWN0bCByZXN0YXJ0IG5naW54Cg==",
            "dedicated_host_id": "",
            "disable_password_authentication": true,
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extensions_time_budget": "PT1H30M",
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Compute/virtualMachines/nginx-machine",
            "identity": [],
            "license_type": "",
            "location": "westeurope",
            "max_bid_price": -1,
            "name": "nginx-machine",
            "network_interface_ids": [
              "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkInterfaces/nginx-nic"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "name": "nginx-machine_OsDisk_1_ee5918fa77c249f99cfd579d0f3fcd2c",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "patch_mode": "ImageDefault",
            "plan": [],
            "platform_fault_domain": -1,
            "priority": "Regular",
            "private_ip_address": "10.0.2.4",
            "private_ip_addresses": [
              "10.0.2.4"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "20.126.35.138",
            "public_ip_addresses": [
              "20.126.35.138"
            ],
            "resource_group_name": "nginx-resources",
            "secret": [],
            "secure_boot_enabled": false,
            "size": "Standard_B1ls",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "UbuntuServer",
                "publisher": "Canonical",
                "sku": "18.04-LTS",
                "version": "latest"
              }
            ],
            "tags": null,
            "timeouts": null,
            "virtual_machine_id": "e9867a10-2bef-40c3-badb-9bee2b522f6a",
            "virtual_machine_scale_set_id": "",
            "vtpm_enabled": false,
            "zone": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.nginx",
            "azurerm_resource_group.nginx",
            "data.template_file.nginx-vm-cloud-init"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "applied_dns_servers": [],
            "dns_servers": [],
            "enable_accelerated_networking": false,
            "enable_ip_forwarding": false,
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkInterfaces/nginx-nic",
            "internal_dns_name_label": "",
            "internal_domain_name_suffix": "vwhxmzdzrpburivivticwxw2ub.ax.internal.cloudapp.net",
            "ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "name": "internal",
                "primary": true,
                "private_ip_address": "10.0.2.4",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/publicIPAddresses/nginx-pubIP",
                "subnet_id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/virtualNetworks/nginx-network/subnets/internal"
              }
            ],
            "location": "westeurope",
            "mac_address": "00-0D-3A-25-BB-F6",
            "name": "nginx-nic",
            "private_ip_address": "10.0.2.4",
            "private_ip_addresses": [
              "10.0.2.4"
            ],
            "resource_group_name": "nginx-resources",
            "tags": {},
            "timeouts": null,
            "virtual_machine_id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Compute/virtualMachines/nginx-machine"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.nginx",
            "azurerm_subnet.nginx",
            "azurerm_virtual_network.nginx",
            "azurerm_public_ip.nginxpublicip"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkInterfaces/nginx-nic|/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkSecurityGroups/nginxNSG",
            "network_interface_id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkInterfaces/nginx-nic",
            "network_security_group_id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkSecurityGroups/nginxNSG",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.nginxpublicip",
            "azurerm_resource_group.nginx",
            "azurerm_subnet.nginx",
            "azurerm_virtual_network.nginx",
            "azurerm_network_interface.nginx",
            "azurerm_network_security_group.nginx-nsg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "nginx-nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/networkSecurityGroups/nginxNSG",
            "location": "westeurope",
            "name": "nginxNSG",
            "resource_group_name": "nginx-resources",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "SSH",
                "priority": 1001,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "3306",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "mysql-client",
                "priority": 1005,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "443",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "HTTPS",
                "priority": 1021,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "80",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "HTTP",
                "priority": 1011,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "environment": "nginx"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.nginx"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "nginxpublicip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "availability_zone": "No-Zone",
            "domain_name_label": "mvb4712",
            "fqdn": "mvb4712.westeurope.cloudapp.azure.com",
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/publicIPAddresses/nginx-pubIP",
            "idle_timeout_in_minutes": 4,
            "ip_address": "20.126.35.138",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "westeurope",
            "name": "nginx-pubIP",
            "public_ip_prefix_id": null,
            "resource_group_name": "nginx-resources",
            "reverse_fqdn": "",
            "sku": "Basic",
            "sku_tier": "Regional",
            "tags": {},
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.nginx"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources",
            "location": "westeurope",
            "name": "nginx-resources",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefix": "10.0.2.0/24",
            "address_prefixes": [
              "10.0.2.0/24"
            ],
            "delegation": [],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/virtualNetworks/nginx-network/subnets/internal",
            "name": "internal",
            "resource_group_name": "nginx-resources",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "nginx-network"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.nginx",
            "azurerm_virtual_network.nginx"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.0.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "flow_timeout_in_minutes": 0,
            "guid": "64768fad-8b79-48c3-a2a8-acd02b5edca1",
            "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/virtualNetworks/nginx-network",
            "location": "westeurope",
            "name": "nginx-network",
            "resource_group_name": "nginx-resources",
            "subnet": [
              {
                "address_prefix": "10.0.2.0/24",
                "id": "/subscriptions/c6159129-da35-4db3-bfc1-d9a4054a13e9/resourceGroups/nginx-resources/providers/Microsoft.Network/virtualNetworks/nginx-network/subnets/internal",
                "name": "internal",
                "security_group": ""
              }
            ],
            "tags": {},
            "timeouts": null,
            "vm_protection_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.nginx"
          ]
        }
      ]
    }
  ]
}
